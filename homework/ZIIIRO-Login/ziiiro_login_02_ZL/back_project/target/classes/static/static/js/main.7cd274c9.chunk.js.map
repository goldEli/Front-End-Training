{"version":3,"sources":["components/login/Login.jsx","components/register/Register.jsx","components/app/App.jsx","index.js"],"names":["Login","handleLogin","username","value","trim","pwd","isPwd","url","console","log","fetch","method","mode","then","response","json","data","props","showMsg","message","catch","error","str","test","className","type","ref","input","onClick","this","href","Component","Register","handleReg","email","isEmail","name","App","state","msgObj","display","msg","setState","style","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7cd274c9.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default class Login extends Component {\r\n    // 指定传入参数的类型\r\n    static propTypes = {\r\n        showMsg : PropTypes.func.isRequired\r\n    }\r\n\r\n    // 点击登录按钮(箭头函数中this指代调用它的上级对象)\r\n    handleLogin = () => {\r\n        // 收集数据\r\n        const username = this.username.value.trim()\r\n        //console.log(Object.prototype.toString.call(username))\r\n        const pwd = this.pwd.value.trim()\r\n        //console.log(Object.prototype.toString.call(pwd))\r\n        // 判断数据是否符合规则(更新msg)\r\n        if(username === \"\" || pwd === \"\"){\r\n            this.props.showMsg(\"block\", \"用户名，密码不能为空！\")\r\n            return\r\n        }\r\n        if (!this.isPwd(pwd)){\r\n            this.props.showMsg(\"block\", \"密码必须包含数字、下划线和字母，长度在8-15位\")\r\n            return\r\n        }\r\n        \r\n        // 提交至服务端(更新msg)\r\n        const url = \"login?username=\" + username + \"&password=\" + pwd;\r\n        console.log(\"当前的url=\", url);\r\n        fetch(url,{\r\n                method : \"GET\",\r\n                mode: 'no-cors',\r\n                //headers : new Headers(),\r\n            })\r\n            .then(function(response){\r\n                return response.json()\r\n            })\r\n            .then(data => this.props.showMsg(\"block\", data.message))\r\n            .catch(error => console.error('Error=', error))\r\n    }\r\n\r\n    /*校验邮件地址是否合法 */\r\n    isPwd = (str) => {\r\n        var reg = /^\\w{8,15}$/;\r\n        return reg.test(str);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"forms_login\">\r\n                <h2>LOGIN</h2>\r\n\r\n                <h4>Username or email address *</h4>\r\n                <input className=\"input01\" type=\"text\" ref={input => this.username = input} />\r\n                <h4>Password *</h4>\r\n                <input className=\"input01\" type=\"password\" ref={input => this.pwd = input}  />\r\n                <br />\r\n                <input className=\"checkbox\" type=\"checkbox\" value=\"on\" />&nbsp;\r\n                <span>remember me</span>\r\n                <br />\r\n\r\n                <button className=\"log_submit\" onClick={this.handleLogin}>Log in</button>\r\n                \r\n                <br />\r\n                <a href=\"#\">Lost your password?</a>\r\n            </div>\r\n        )\r\n    }\r\n}","import React,{Component} from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default class Register extends Component {\r\n    static propTypes = {\r\n        showMsg : PropTypes.func.isRequired\r\n    }\r\n\r\n    // 点击注册按钮\r\n    handleReg = () => {\r\n        // 1.收集数据\r\n        const email = this.email.value.trim()\r\n        const pwd = this.pwd.value.trim()\r\n        // 2.匹配规则\r\n        if(email === \"\" || pwd === \"\"){\r\n            this.props.showMsg(\"block\",\"邮箱地址，密码不能为空\")\r\n            return\r\n        }\r\n        if(!this.isEmail(email)){\r\n            this.props.showMsg(\"block\", \"邮箱地址格式错误\")\r\n            return\r\n        }\r\n        if(!this.isPwd(pwd)){\r\n            this.props.showMsg(\"block\", \"密码必须包含数字、下划线和字母，长度在8-15位\")\r\n            return\r\n        }\r\n        // 3.向服务器提交\r\n        const url = \"register?email=\" + email + \"&password=\" + pwd;\r\n        console.log(\"当前的url=\", url);\r\n        fetch(url, {\r\n                method: \"GET\",\r\n                mode: 'no-cors',\r\n                //headers : new Headers(),\r\n            })\r\n            .then(function (response) {\r\n                return response.json()\r\n            })\r\n            .then(data => this.props.showMsg(\"block\", data.message))\r\n            .catch(error => console.error('Error=', error))\r\n    }\r\n\r\n    /*校验邮件地址是否合法 */\r\n    isEmail = (str) => {\r\n        var reg = /^\\w+@[a-zA-Z0-9]{2,10}(?:\\.[a-z]{2,4}){1,3}$/;\r\n        return reg.test(str);\r\n    }\r\n    /*校验邮件地址是否合法 */\r\n    isPwd = (str) => {\r\n        var reg = /^\\w{8,15}$/;\r\n        return reg.test(str);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"forms_register\">\r\n                <h2>REGISTER</h2>\r\n\r\n                <h4 >email address *</h4>\r\n                <input className=\"input02\" type=\"text\" ref={input => this.email = input} />\r\n                <h4>Password *</h4>\r\n                <input className=\"input02\" type=\"password\" ref={input => this.pwd = input} />\r\n                <br />\r\n                <input className=\"checkbox\" type=\"checkbox\" name=\"remember\" />&nbsp;\r\n                <span>Subscribe to our newsletter</span>\r\n                <p>\r\n                    Your personal data will be used to support your experience throughout this website, to manage access to your account,\r\n                and for other purposes described in our <a href=\"#\">privacy policy</a> .\r\n                </p>\r\n\r\n                <button className=\"res_submit\" onClick={this.handleReg}>Register</button>    \r\n\r\n        </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport './App.css'\r\nimport Login from '../login/Login'\r\nimport Register from '../register/Register'\r\n\r\nclass App extends Component {\r\n\r\n    state = {\r\n        msgObj:{\r\n            display: \"none\",\r\n            msg: \"on my god!\"\r\n        }\r\n    }\r\n\r\n    // 修改提示信息的状态\r\n    showMsg = (display, msg) => {\r\n        this.setState({\r\n            msgObj : {\r\n                display : display,\r\n                msg : msg\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {msgObj} = this.state\r\n        return (\r\n            <div>\r\n\r\n                <div className=\"info\">\r\n                    <h1>MY ACCOUNT</h1>\r\n                    <h4>Click here to login with Facebook</h4>\r\n                </div>\r\n\r\n                <div className=\"msg\" style={{display:msgObj.display}}>\r\n                    <h3>{msgObj.msg}</h3>\r\n                </div>\r\n\r\n                <div className=\"forms\">\r\n                    <Login showMsg={this.showMsg}/>\r\n                    <Register showMsg={this.showMsg}/>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// 将组件暴露出来\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './components/app/App'\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"))"],"sourceRoot":""}